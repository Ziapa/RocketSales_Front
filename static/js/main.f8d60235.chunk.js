(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,t,n){},196:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n(13),s=n.n(c),o=n(98),d=n(58),u=n.n(d),i=(n(104),n(199)),l=n(86),S=n.n(l),p=n(8),C=function(e){var t=new Date(1e3*e.created_at);return Object(p.jsx)("div",{className:S.a.cardsContainer,children:Object(p.jsxs)(i.a,{title:e.name,style:{width:300},children:[Object(p.jsx)("div",{children:e.tags.map((function(e){return Object(p.jsx)("span",{style:{marginLeft:"5px",backgroundColor:"gray"},children:e.name},e.id)}))}),Object(p.jsxs)("p",{style:{backgroundColor:"".concat(e.status.color)},children:[" ",e.status.name," "]}),Object(p.jsx)("p",{children:e.responsibleUser}),Object(p.jsx)("p",{children:"".concat(t.getDay(),".").concat(t.getMonth(),".").concat(t.getFullYear())}),Object(p.jsx)("p",{children:e.price})]})})},_=n(28),E=n(39),b=n.n(E),j=n(62);!function(e){e.FETCH_USERS="FETCH_USERS",e.FETCH_LEADS_SUCCESS="FETCH_LEADS_SUCCESS",e.FETCH_STATUSES_SUCCESS="FETCH_STATUSES_SUCCESS",e.FETCH_CONTACTS_SUCCESS="FETCH_CONTACTS_SUCCESS",e.FETCH_USERS_ERROR="FETCH_USERS_ERROR"}(a||(a={}));var O=n(96),f=n.n(O).a.create({baseURL:"https://rocketsales.herokuapp.com/",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"}}),T=function(){return f.get("leads")},h=function(e){return f.get("leads/".concat(e))},g=function(){return f.get("contacts")},x=function(e){return f.get("statuses/".concat(e))},U=function(){return function(){var e=Object(j.a)(b.a.mark((function e(t){var n,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:a.FETCH_USERS}),e.next=4,T();case 4:return n=e.sent,e.next=7,x(4904053);case 7:return r=e.sent,e.next=10,g();case 10:c=e.sent,t({type:a.FETCH_LEADS_SUCCESS,payload:n.data._embedded.leads}),t({type:a.FETCH_STATUSES_SUCCESS,payload:r.data._embedded.statuses}),t({type:a.FETCH_CONTACTS_SUCCESS,payload:c.data._embedded.contacts}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),t({type:a.FETCH_USERS_ERROR,payload:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()};var m=function(){var e=Object(_.b)(),t=Object(r.useState)(""),n=Object(o.a)(t,2),c=n[0],s=n[1];Object(r.useEffect)((function(){var t;c.length>3&&e((t=c,function(){var e=Object(j.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:a.FETCH_USERS}),e.next=4,h(t);case 4:r=e.sent,n({type:a.FETCH_LEADS_SUCCESS,payload:r.data._embedded.leads}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:a.FETCH_USERS_ERROR,payload:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0438\u0441\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),0===c.length&&e(U())}),[c,e]),Object(r.useEffect)((function(){e(U())}),[e]);var d=Object(_.c)((function(e){return e.leads.leads})),i=Object(_.c)((function(e){return e.leads.statuses})),l=Object(_.c)((function(e){return e.leads.contacts})),S=Object(_.c)((function(e){return e.leads.loading})),E=function(e){var t=i.find((function(t){return t.id===e}));return t||{name:"string",color:"string"}},O=function(e){var t=l.find((function(t){return t.responsible_user_id===e}));return t||{id:999,name:"string"}};return Object(p.jsxs)("div",{className:u.a.app,children:[c.length<3&&c.length>0?Object(p.jsx)("span",{children:"\u043f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043e\u0442 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}):"",Object(p.jsx)("input",{value:c,placeholder:"\u041f\u043e\u0438\u0441\u043a",onChange:function(e){s(e.currentTarget.value)}}),Object(p.jsx)("div",{className:u.a.cardsContainer,children:S?Object(p.jsx)("p",{children:" \u0418\u0414\u0415\u0422 \u0417\u0410\u0413\u0420\u0423\u0417\u041a\u0410....."}):d.map((function(e){return Object(p.jsx)(C,{tags:e._embedded.tags,name:e.name,status:E(e.status_id),responsibleUser:O(e.responsible_user_id).name,created_at:e.created_at,price:e.price},e.id)}))})]})},v=n(38),y=n(25),F={leads:[],statuses:[],contacts:[],loading:!1,error:null},H=Object(v.b)({leads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.FETCH_USERS:return Object(y.a)(Object(y.a)({},e),{},{loading:!0,error:null});case a.FETCH_LEADS_SUCCESS:return Object(y.a)(Object(y.a)({},e),{},{loading:!1,error:null,leads:t.payload});case a.FETCH_STATUSES_SUCCESS:return Object(y.a)(Object(y.a)({},e),{},{error:null,statuses:t.payload});case a.FETCH_CONTACTS_SUCCESS:return Object(y.a)(Object(y.a)({},e),{},{loading:!1,contacts:t.payload});default:return e}}}),R=n(97),A=Object(v.c)(H,Object(v.a)(R.a));window.store=A,s.a.render(Object(p.jsx)(_.a,{store:A,children:Object(p.jsx)(m,{})}),document.getElementById("root"))},58:function(e,t,n){e.exports={app:"App_app__1-9F6",cardsContainer:"App_cardsContainer__2-d2d"}},86:function(e,t,n){e.exports={cardsContainer:"Cards_cardsContainer__3iAqK","code-box-demo":"Cards_code-box-demo__6Dp95","ant-card":"Cards_ant-card__3g9ew"}}},[[196,1,2]]]);
//# sourceMappingURL=main.f8d60235.chunk.js.map